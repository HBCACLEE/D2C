<!DOCTYPE html>
<html lang="en" class="gr__getbootstrap_com" ng-app="HSBCApp">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <title>HSBC</title>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/assets/css/jquery.nouislider.css">
    <link rel="stylesheet" href="/assets/css/font-awesome.css">
    <link href="/assets/css/bootstrap.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <div ng-controller="NavController">
    <nav class="navbar navbar-inverse top-nav">
        <div class="container-fluid">
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#" ng-bind="topBar.personal[lang]"></a></li>
                    <li><a href="#" ng-bind="topBar.business[lang]"></a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span ng-bind='topBar.lang[lang]'></span> <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#" ng-click="setLang('eng')" ng-bind='topBar.lang["eng"]'></a></li>
                            <li><a href="#" ng-click="setLang('fra')" ng-bind='topBar.lang["fra"]'></a></li>
                        </ul>
                    </li>
                    <li><a href="#"><i class="fa fa-search" aria-hidden="true"></i></a></li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </nav>
    <nav class="navbar navbar-default" id="main-nav">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">
                    <img alt="Brand" src="/assets/images/logo.png" >
                </a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li ng-repeat="navItem in nav.items">
                        <a href="#"><span ng-bind="navItem['title'][lang]"></span> <div><small ng-bind="navItem['sub-title'][lang]"></small></div></a> 
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#"><span ng-bind="nav.register[lang]"></span> <i class="fa fa-angle-right" aria-hidden="true"> </i></a></li>
                    <li><a href="#" class="btn btn-lg btn-danger" ng-bind="nav.logon[lang]"></a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
    </div>
    <div class="result-sect" ng-controller="GoalFiveController">
        <section class="setting-your-goal">
            <div class="container">
                <div class="row">
                    <div class="btn-group btn-breadcrumb">
                        <a href="#" class="btn btn-default">
                            <span>1. Setting your goal</span>
                            <div class='percent' style="width: 90%"></div>
                        </a>
                        <a href="#" class="btn btn-default">
                            <span>2. Your attitude to risk</span>
                        </a>
                        <a href="#" class="btn btn-default">
                            <span>3. Your results</span>
                        </a>
                        <a href="#" class="btn btn-default">
                            <span>4. Your application</span>
                        </a>
                    </div>
                </div>
                <div class="row goal-step-five">
                    <form ng-submit="submit()" name="myForm">
                        <h2>
                    I'd like to $ <input type="number" class="hsbc" ng-model="data.goal"  ng-class="(isLoss() == true) ?'loss' : '' "/>
                    
                    . I can invest $ <input type="number" class="hsbc" ng-model="data.down_payment" ng-class="(isLoss() == true) ?'loss' : '' ">
                    today and contribute $ <input type="number" class="hsbc" ng-model="data.monthly_amount" ng-mouseenter="submit()" ng-class="(isLoss() == true) ?'loss' : '' "> every month

                    with a <span ng-bind="risks[data.risk-1]"></span> risk investment. 

                    This could take <input type="number" class="hsbc" style="width: 40px" ng-model="data.years" ng-class="(isLoss() == true) ?'loss' : '' "> years
                    </h2>
                    </form>
                    <div class="modal fade" id="riskModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <div class="modal-header">
                                    <h1 class="modal-title" id="myModalLabel">What do I need to know about risk</h1>
                                </div>
                                <div class="modal-body">
                                    <p><b>The Risk Scale</b></p>
                                    <p>This scale explains the risk level of our Portfolios: 1 is the lowest and 7 the highest. </p>
                                    <p><b>Risk</b></p>
                                    <p>When choosing a portfolio, you should consider not only what you want to gain and your time-frame, but also how much you can afford to lose. A higher level of risk could bring the potential for greater growth, but there is also more chance that your investment could go down. We manage our portfolios' exposure to risk by including a </p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex magnam repellat necessitatibus culpa eum! Itaque harum accusamus nostrum iste veritatis ad est cupiditate perferendis odio quia accusantium quaerat, dicta, ipsum.</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex asperiores cum iste recusandae quisquam voluptatem autem doloremque, incidunt soluta, atque voluptatum vero beatae amet nostrum? Dignissimos non, similique quae dolor?</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex asperiores cum iste recusandae quisquam voluptatem autem doloremque, incidunt soluta, atque voluptatum vero beatae amet nostrum? Dignissimos non, similique quae dolor?</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex asperiores cum iste recusandae quisquam voluptatem autem doloremque, incidunt soluta, atque voluptatum vero beatae amet nostrum? Dignissimos non, similique quae dolor?</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex asperiores cum iste recusandae quisquam voluptatem autem doloremque, incidunt soluta, atque voluptatum vero beatae amet nostrum? Dignissimos non, similique quae dolor?</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="calculationModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-body">
                                    <p><i class="fa fa-clock-o fa-5x" aria-hidden="true"></i></p>
                                    <span ng-bind-html="calculationTxt"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="results">
            <div class="container">
                <div class="row results">
                    <div class="risk-slider">
                        <div class="row">
                            <div class="col col-md-2">
                                <div class="intro-txt">
                                    Risk Level <a href="#" data-toggle="modal" data-target="#riskModal"><span class="fa fa-info"></span></a>
                                </div>
                            </div>
                            <div class="col col-md-8">
                                <div slider ng-model="data.risk" start=1 end=5 step=1 callback='changeSlider'></div>
                                <div class="range-subtitle">
                                    <div class="noUi-pips noUi-pips-horizontal">
                                        <div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 0.5000%"></div>
                                        <div class="noUi-value noUi-value-horizontal noUi-value-large" style="left: 0.00000%" ng-class="(data.risk==1) ? 'active no-arrow' : ''">Low</div>
                                        <div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 25.00000%"></div>
                                        <div class="noUi-value noUi-value-horizontal noUi-value-large" style="left: 25.00000%" ng-class="(data.risk==2) ? 'active no-arrow' : ''">Low to medium</div>
                                        <div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 50.00000%"></div>
                                        <div class="noUi-value noUi-value-horizontal noUi-value-large" style="left: 50.00000%" ng-class="(data.risk==3) ? 'active no-arrow' : ''">Medium</div>
                                        <div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 75.00000%"></div>
                                        <div class="noUi-value noUi-value-horizontal noUi-value-large" style="left: 75.00000%" ng-class="(data.risk==4) ? 'active no-arrow' : ''">Medium to high</div>
                                        <div class="noUi-marker noUi-marker-horizontal noUi-marker-large" style="left: 99.0000%"></div>
                                        <div class="noUi-value noUi-value-horizontal noUi-value-large" style="left: 100.00000%" ng-class="(data.risk==5) ? 'active no-arrow' : ''">High
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row graphs">
                    <div class="col col-md-4 tutorial">
                        <p class="title"><b>How to use this page</b></p>
                        <p class="txt" ng-bind="illustrations[illIndex]"></p>
                        <ul class="pagination">
                            <li>
                                <a href="javascript:;" aria-label="Previous" ng-click="prevIll()">
                                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li><a href="javascript:;" ng-class="(illIndex==1) ? 'active' : '' " ng-click="selectIll(1)">A</a></li>
                            <li><a href="javascript:;" ng-class="(illIndex==2) ? 'active' : '' " ng-click="selectIll(2)">B</a></li>
                            <li><a href="javascript:;" ng-class="(illIndex==3) ? 'active' : '' " ng-click="selectIll(3)">C</a></li>
                            <li><a href="javascript:;" ng-class="(illIndex==4) ? 'active' : '' " ng-click="selectIll(4)">D</a></li>
                            <li>
                                <a href="javascript:;" aria-label="Next" ng-click="nextIll()">
                                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>

                        <div class="contribution">
                            <p><b>My contribution</b></p>
                            <h4>$70,000</h4>
                        </div>


                        <div ng-if="illIndex==1"  class="contribution-box">
                            A
                        </div>
                    </div>
                    <div class="col col-md-3 chance">
                        <p class="intro"><b>In 5 years with an average return of 5.4% per annum</b></p>
                        <ul>
                            <li class="low">Low chance</li>
                            <li class="good">Good chance

                                <div class="right-triangle" ng-class="(isLoss() == true) ? 'loss' : '' " style="border-width: 0 0 {{height}}px {{width}}px;"></div>
                                <div class="right-triangle-inner" ng-class="(isLoss() == true) ? 'loss' : '' " style="border-width: 0 0 {{height-5}}px {{width-15}}px;"></div>
                                <div class="circle1" ng-class="(isLoss() == true) ? 'loss' : '' " style="left: -{{width}}px;"></div>
                                <div class="circle2" ng-class="(isLoss() == true) ? 'loss' : '' " style="bottom: {{height - 10}}px;"></div>
                                <div class="horizontal-line" ng-class="(isLoss() == true) ? 'loss' : '' " style="bottom: {{height - 5}}px;"></div>
                            </li>
                            <li class="lose">Lose money</li>
                        </ul>

                        <div ng-if="illIndex==2"  class="contribution-box">
                            B
                        </div>
                    </div>
                    <div class="col col-md-5 final">
                        <div class="media" style="margin-top: {{170 - (height  - 80)}}px">
                            <div class="media-left">
                                <i ng-if="isLoss() == false" class="fa fa-check-circle fa-4x" aria-hidden="true"></i>

                                <i ng-if="isLoss() == true" class="fa fa-times-circle fa-4x" aria-hidden="true"></i>
                                
                            </div>
                            <div ng-if="isLoss() == false" class="media-body">
                                <h4 class="media-heading">Good chance of reaching your goal of $<span ng-bind="{{data.goal}}"></span></h4>
                                <p>Based on the factor you have chosen, it looks like you should have a good chance of achieving your goal.</p>
                                <p><a href="#" class="btn btn-lg btn-danger">Continue</a></p>
                            </div>

                            <div ng-if="isLoss() == true" class="media-body">
                                <h4 class="media-heading">Your $<span ng-bind="{{data.goal}}"></span> is no longer achievable</h4>
                                <p>The changes you have made have affected your chances to achieve your goal. The options highlighted in green at the top of the page can get you back on track. You can review our suggestions to see which suits you best, or alternatively change the amounts yourself. </p>
                                <p><a href="#" class="btn btn-lg btn-danger disabled">Continue</a></p>
                            </div>
                        </div>

                        <div ng-if="illIndex==3" class="contribution-box">
                            C
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <section class="note">
        <div class="row">
            <p>
                Important Notes: Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ratione sequi, laboriosam praesentium voluptas officia! Nam fuga necessitatibus sunt quam libero doloribus dolore voluptas magni debitis enim? Dolore voluptatum impedit quas aut quaerat doloremque porro praesentium consequuntur nulla, rerum officia commodi vitae eveniet provident non labore consectetur, quod asperiores. Nisi nobis repellendus, officia praesentium optio impedit, non animi odio cum possimus esse, nam voluptatibus accusantium enim delectus necessitatibus dolorem labore. Maiores, esse deleniti! Quod provident doloribus perspiciatis cumque ea ratione optio non ab temporibus qui assumenda, alias rem id.
            </p>
        </div>
    </section>
    <footer>
        <div class="container">
            <div class="row">
                <div class="col col-md-3">
                    <div class="media">
                        <div class="media-left ">
                            <i class="fa fa-phone fa-2x" aria-hidden="true"></i>
                        </div>
                        <div class="media-body">
                            <h5 class="media-heading">Contact HSBC</h5>
                            <p><a href="#">Write, call or send a message 
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                        </a></p>
                        </div>
                    </div>
                </div>
                <div class="col col-md-3">
                    <div class="media">
                        <div class="media-left ">
                            <i class="fa fa-map-marker fa-2x" aria-hidden="true"></i>
                        </div>
                        <div class="media-body">
                            <h5 class="media-heading">Find a branch</h5>
                            <p><a href="#">And your nearest Express Banking location
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                        </a></p>
                        </div>
                    </div>
                </div>
                <div class="col col-md-3">
                    <div class="media">
                        <div class="media-left ">
                            <i class="fa fa-info-circle fa-2x" aria-hidden="true"></i>
                        </div>
                        <div class="media-body">
                            <h5 class="media-heading">Frequently Asked Questions</h5>
                            <p><a href="#">See FAQs on our products and services
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                        </a></p>
                        </div>
                    </div>
                </div>
                <div class="col col-md-3">
                    <div class="media">
                        <div class="media-left ">
                            <i class="fa fa-globe fa-2x" aria-hidden="true"></i>
                        </div>
                        <div class="media-body">
                            <h5 class="media-heading">About HSBC</h5>
                            <p><a href="#">Careers, media, investor and cooporate information 
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                        </a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <div class="copyright">
        <div class="container">
            <ul>
                <li><a href="#">Privacy and Security</a></li>
                <li><a href="#">Terms of Use</a></li>
                <li><a href="#">Policy</a></li>
                <li><a href="#">Online Security</a></li>
            </ul>
            <p class="text-right copyright-text">
                &copy; Copyright. The Hong Kong and Shanghai Banking Coporation Limited 2002-2016. All rights reserved
            </p>
        </div>
    </div>
    <!-- /.container -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
    window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')
    </script>
    <script src="/assets/javascripts/bootstrap.js"></script>
    <script src="/assets/javascripts/angular.min.js"></script>
    <script src="/assets/javascripts/angular-local-storage.min.js"></script>
    <script src="/assets/javascripts/angular-sanitize.js"></script>
    <script src="/assets/javascripts/jquery.nouislider.js"></script>
    <script src="/assets/javascripts/nouislider.js"></script>
    <script>
    var hsbcAPP = angular.module('HSBCApp', ["LocalStorageModule", "nouislider", "ngSanitize"]);

    hsbcAPP.controller('NavController', function NavController($scope,localStorageService,$http) {
        $scope.lang = localStorageService.get("lang");
        if ($scope.lang == null) {
            $scope.lang  = "eng";
        }
        $scope.nav = [];
        $http({
          method: 'GET',
          url: '/dat/translations.json'
        }).then(function successCallback(response) {
            console.log("response",response.data);
          $scope.nav = response.data.nav;
          $scope.topBar = response.data["top-bar"];
        }, function errorCallback(response) {
        });
        $scope.setLang = function(lang){
            $scope.lang = lang;
            localStorageService.set("lang",lang);
        }

    });

    // Define the `GoalOneController` controller on the `hsbcAPP` module
    hsbcAPP.controller('GoalOneController', function GoalOneController($scope, localStorageService) {


        console.log("current data", localStorageService.get("hsbc-data"));

        $scope.submit = function() {

            localStorageService.set("hsbc-data", $scope.data);

            window.location = "/goal3.html"
        }

    });

    hsbcAPP.controller('GoalTwoController', function GoalTwoController($scope, localStorageService) {


        $scope.data = localStorageService.get("hsbc-data");

        if ($scope.data == null) {
            alert("INVALID VALUE");
        }
        $scope.submit = function() {

            localStorageService.set("hsbc-data", $scope.data);
            window.location = "/goal4.html"
        }

    });

    hsbcAPP.controller('GoalThreeController', function GoalThreeController($scope, localStorageService) {


        $scope.data = localStorageService.get("hsbc-data");

        if ($scope.data == null) {
            alert("INVALID VALUE");
        }
        $scope.submit = function() {

            localStorageService.set("hsbc-data", $scope.data);
            window.location = "/goal4.html"
        }

    });

    hsbcAPP.controller('GoalFourController', function GoalFourController($scope, localStorageService, $timeout) {


        $scope.data = localStorageService.get("hsbc-data");

        console.log("current data", $scope.data);


        if (!$scope.data.risk) {
            $scope.data.risk = 5;
        }

        $scope.risks = [
            "low",
            "low to medium",
            "medium",
            "medium to high",
            "high"
        ];


        $scope.explanations = [
            "I am only confortable risking a small amount of my investment. Retaining the majority of my investment is more important than growth.",
            "Low to Medium: Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem veniam sit nisi, minus rem labore at cum, optio earum nam quia ipsa! Labore quaerat accusamus tempore dolore quidem, eius in.",
            "Medium: Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem veniam sit nisi, minus rem labore at cum, optio earum nam quia ipsa! Labore quaerat accusamus tempore dolore quidem, eius in.",
            "Medium to high: Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem veniam sit nisi, minus rem labore at cum, optio earum nam quia ipsa! Labore quaerat accusamus tempore dolore quidem, eius in.",
            "I am confortable risking a lot of my investment in order to gain a better return, and understand this puts a significant part of my origninal investment at risk of a loss"
        ];

        if ($scope.data == null) {
            alert("INVALID VALUE");
        }

        // $("#riskModal").modal("show");
        // 
        $scope.calculate = function() {
            $scope.calculationTxt = "<h3>Calculate how long it will take to reach to get your investment target...</h3>";
            $("#calculationModal").modal("show");
            localStorageService.set("hsbc-data", $scope.data);
            $timeout(function() {
                $scope.calculationTxt = "<h1>This could take 5 years</h1>";
                $timeout(function() {
                    $("#calculationModal").modal("hide");
                    window.location = "goal5.html";
                }, 1000)
            }, 2000);
        }

    });

    hsbcAPP.controller('GoalFiveController', function GoalFiveController($scope, localStorageService, $timeout) {


        $scope.data = localStorageService.get("hsbc-data");

        console.log("current data", $scope.data);


        if (!$scope.data.risk) {
            $scope.data.risk = 5;
        }

        $scope.risks = [
            "low",
            "low to medium",
            "medium",
            "medium to high",
            "high"
        ];


        // ORIGINAL
        // $scope.width = 250;
        // $scope.height  = 80;


        $scope.width = 300;
        $scope.height  = 70 + 25* (5 - $scope.data.risk);


        $scope.$watch('data.risk', function() {
            // alert('hey, myVar has changed!');
            $scope.height  = 70 + 25* (5 - $scope.data.risk);
        });

        console.log("HEIGHT is",$scope.height);
        $scope.isLoss = function(){
            if ($scope.height > 95) {
                return true;
            } else {
                return false;
            }
        }

        $scope.illIndex = 0;
        $scope.illustrations = [
            "Text goes here on how to use this page and some promts for the user to scroll through A, B, C and D options below to understand how the chart works",
            "Your total contribution of $70,000 made up of an initial investment of $10,000, plus 60 payments of $1,000, the dashed line shows your total contribution in the illustration",
            "When invesnting, it is important to remember that you can lose money. Based on the input you have chosen, your investment could fall to $46,234 over the term",
            "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsam mollitia enim molestias incidunt accusamus iste obcaecati similique quaerat.",
            "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eos vitae aspernatur, tempore nisi magni itaque adipisci explicabo molestias nostrum."
        ];

        $scope.nextIll = function(){
            if ($scope.illIndex < $scope.illustrations.length - 1) {
                $scope.illIndex +=1;
            }   
        }

        $scope.prevIll = function(){
            if ($scope.illIndex > 1) {
                $scope.illIndex -=1;
            }   
        }

        $scope.selectIll = function(idx){
            if ($scope.illIndex=== idx) {
                $scope.illIndex = 0;
            } else {
                $scope.illIndex = idx;
            }
            
        }

        $scope.changeSlider = function(){
            alert("XXXXX");
            console.log("XXX");
        }


        if ($scope.data == null) {
            alert("INVALID VALUE");
        }

        // $("#riskModal").modal("show");
        // 
        $scope.calculate = function() {
            $scope.calculationTxt = "<h3>Calculate how long it will take to reach to get your investment target...</h3>";
            $("#calculationModal").modal("show");
            localStorageService.set("hsbc-data", $scope.data);
            $timeout(function() {
                $scope.calculationTxt = "<h1>This could take 5 years</h1>";
                $timeout(function() {
                    $("#calculationModal").modal("hide");
                    window.location = "goal5.html";
                }, 1000)
            }, 2000);
        }

    });
    </script>
</body>

</html>
